/*Funkcje*/"use strict";var DOMENA=location.protocol+"//"+location.hostname+":"+location.port,wyslij=function(){function a(a){$.get(DOMENA+"/wyszukiwarka/wybrany_filtr/"+a+"/").fail(function(){console.log("błąd - funkcje - przelacznik zakladek w fitry")})}function b(a){$.get(DOMENA+"/edytuj/wybrana_zakladka/"+a+"/").fail(function(){console.log("błąd - funkcje - przelacznik zakladek w fitry")})}function c(a,b,c,d){$.get(DOMENA+"/wyszukiwarka/wybrany_filtr/"+a+"/").done(function(){1==b?ruch.przekieruj_do(c,d):2==b&&ruch.otworz_w_nowej_karcie(c,d)}).fail(function(){console.log("błąd - funkcje - przelacznik zakladek w fitry")})}var d={numer_filtra:a,numer_bloku:b,numer_filtra_i_przekieruj:c};return d}(),pobierz=function(){function a(){var a={strona:$(window).height(),naglowek:$("#NAGLOWEK").outerHeight(),tresc:$("#TRESC").outerHeight(),stopka:$("#STOPKA").outerHeight(),padding:parseInt($("#TRESC").css("padding-top"))+parseInt($("#TRESC").css("padding-bottom")),margin:parseInt($("#TRESC").css("margin-top"))+parseInt($("#TRESC").css("margin-bottom"))};return a}function b(a){var b=a,c=b.keyCode||b.which;return c}function c(a){var b=new Image;b.onload=function(){var a={width:this.width,height:this.height};dostosuj.tapete(a),$(window).resize(function(){dostosuj.tapete(a)})},b.src=a}var d={zmienne_wysokosc:a,ktory_guzik:b,wymiary_grafiki:c};return d}(),zmiana=function(){function a(){var a=$("#NAGLOWEK > div"),b=parseInt(a.parent().css("max-height")),c=a.outerHeight();if(b==c&&70!=c){var d=a.children(".menu"),e=a.children(".wyszukiwarka"),f=a.children(".tytul"),g=f.children(),h=b-30,i=h*(f.outerWidth()/b),j=b-30,k=j*(g.outerWidth()/b);a.height(b-30),d.css({position:"relative",top:"-30px"}),e.css({position:"relative",top:"-30px"}),f.height(h).width(i),g.height(j).width(k).css("background-size",i+"px auto").css("left",i)}}function b(){var a=$("#NAGLOWEK > div"),b=parseInt(a.parent().css("max-height")),c=a.outerHeight();if(b!=c&&70!=b){var d=a.children(".menu"),e=a.children(".wyszukiwarka"),f=a.children(".tytul"),g=f.children();a.height(""),d.css("top",""),e.css("top",""),f.height("").width(""),g.height("").width("").css("background-size","").css("left","")}}function c(a,b){var c=$(a),d=c.children(".lista");c.children(".zakladka");d.children(".wybrana").removeClass("wybrana"),d.children('[data-numer="'+b+'"]').addClass("wybrana"),c.children(".zakladka.wybrana").removeClass("wybrana").fadeOut(200,function(){c.children(".zakladka_"+b).fadeIn(200,function(){autosize.update($("textarea"))}).addClass("wybrana")})}function d(a){var a=parseInt(a),c=($(".BLOK1 > .tresc > .zakladka_blok[data-numer="+a+"]"),$(".BLOK2 > .tresc.blok"+a)),d=$(".BLOK1 > .tresc");d.children(".wybrana").removeClass("wybrana"),d.children('[data-numer="'+a+'"]').addClass("wybrana"),$(".BLOK2 > .tresc.wybrana").removeClass("wybrana").fadeOut(200,function(){c.fadeIn(200,function(){autosize.update($("textarea"))}).addClass("wybrana")})}function e(a,b){var c=$("#PRODUKT"),d=c.find(".tresc div:first-child"),e=d.children(".tabela"),f="",g="",h="";for(var i in a.certyfikaty)f=f+"<div>"+a.certyfikaty[i]+"</div>";for(var i in a.zagrozenia)g=g+'<div class="piktogram" title="'+a.zagrozenia[i]+'" style="background-image: url(/static/img/zagrozenia/'+(parseInt(i)+1)+'.png)"></div>';for(var i in a.zawody)h=h+'<div class="piktogram" title="'+a.zawody[i]+'" style="background-image: url(/static/img/zawody/'+(parseInt(i)+1)+'.png)"></div>';d.children(".producent").html(a.producent),d.children(".nazwa").html(a.nazwa),d.find(".zdjecie > img").attr("src",a.zdjecie).attr("alt",a.nazwa),e.find(".opis > div").eq(1).html(a.opis),e.find(".kolor > div").eq(1).html(a.kolor),e.find(".rozmiar > div").eq(1).html(a.rozmiar),e.find(".certyfikaty > div").eq(1).html(f),e.find(".zagrozenia > div").eq(1).html(g),e.find(".zawody > div").eq(1).html(h),e.children().removeClass("wypelniony"),e.find("div > div:nth-child(2)").each(function(){""!=$(this).html()&&$(this).parent().addClass("wypelniony")}),b?c.addClass("pelny").fadeIn(300).children(".tresc").scrollTop("0px"):(c.addClass("pelny").show(),zmiana.ukryj_ladowanie())}function f(a){var b=$("#PRODUKT");b.removeClass("pelny").fadeOut(200)}function g(){var a=$("#MENU");a.children(".nakladka").fadeIn(100),a.animate({right:"0px"},200,function(){$("#MENU > .nakladka").click(function(){zmiana.ukryj_menu()})})}function h(){var a=$("#MENU");a.children(".nakladka").fadeOut(100),a.animate({right:"-250px"},200)}function i(){var a=$("#BLOK_GLOWNY");a.fadeIn(300),autosize($("textarea")),autosize.update($("textarea")),dostosuj.wysokosc_strony(),dostosuj.strone_do_scrollbara()}function j(a){var b=$(".lista_produktow > ul > li.produkt.pokaz_ustawienia[data-numer="+a+"]");b.children(".obrazek").fadeOut(200,function(){b.children(".ustawienia").fadeIn(200)})}function k(a){var b=$(".lista_produktow > ul > li.produkt.pokaz_ustawienia[data-numer="+a+"]");b.children(".ustawienia").fadeOut(200,function(){b.children(".obrazek").fadeIn(200)})}var l={zmniejsz_naglowek:a,zwieksz_naglowek:b,przelacznik_zakladek_filtry:c,przelacznik_zakladek_bloki:d,pokaz_produkt:e,ukryj_produkt:f,pokaz_menu:g,ukryj_menu:h,ukryj_ladowanie:i,pokaz_ustawienia_produktu:j,ukryj_ustawienia_produktu:k};return l}(),dostosuj=function(){function b(a){var b="#TRESC.start > .BLOK1 > .tlo",c={width:$(window).width(),height:$(window).height()-$("#NAGLOWEK").outerHeight()};c.width/c.height>=a.width/a.height?$(b).css("background-size","100% auto"):c.width/c.height<a.width/a.height&&$(b).css("background-size","auto 100%")}function d(a){if(!a)var a=window.event;a.cancelBubble=!0,a.stopPropagation&&a.stopPropagation()}var a=function(){var a=pobierz.zmienne_wysokosc();$("#TRESC").css("min-height",a.strona-a.naglowek-a.stopka-a.margin),$("#TRESC > .BLOK1").is(".stala_wysokosc")?$("#TRESC > .BLOK2").css("min-height",a.strona-a.naglowek-a.stopka-a.margin-parseInt($("#TRESC > .BLOK1").outerHeight())):$("#TRESC > .BLOK1").css("min-height",a.strona-a.naglowek-a.stopka-a.margin),$("#TRESC.start > .BLOK1").css("min-height",a.strona-a.naglowek-a.margin)},c=function(){var a=pobierz.zmienne_wysokosc(),b=a.strona,c=a.naglowek+a.tresc+a.stopka,d=parseInt($("#NAGLOWEK > div").css("right"));b<c?0==d&&$("#NAGLOWEK > div").css("right","15px"):b>=c&&0!=d&&$("#NAGLOWEK > div").css("right","0px")},e={wysokosc_strony:a,tapete:b,strone_do_scrollbara:c,stopBubble:d};return e}(),ruch=function(){function b(a,b){if("inna"==a)var c=b;else var c=DOMENA+b;window.location.href=c}function c(a,b){if("inna"==a)window.open(b,"_blank");else{var c=DOMENA+b;window.open(c,"_blank")}}function d(b,c){if(b){var d=window.location.pathname.split("/")[1],e=b.split("/")[2],f=DOMENA+"/produkt/szczegoly/"+e+"/";"oferta"==d?(a=window.location.href,window.history.pushState({page:b},b,b)):a=DOMENA+"/oferta/",$.get(f,function(a){$("head").append("<script>"+a+"zmiana.pokaz_produkt( dane_produktu, "+c+" ); </script>")})}else console.log("Brak wartości zmiennych")}function e(){window.history.pushState({page:a},a,a),zmiana.ukryj_produkt()}function f(a,b){$.post(DOMENA+a,b,function(){location.href=DOMENA+'/oferta/';}).fail(function(){console.warn("Wystąpił błąd podczas przesyłania danych - "+url)})}function g(a){var c=($("#BLOK_GLOWNY").scrollTop(),$(a).position());$("#BLOK_GLOWNY > div").animate({scrollTop:c.top+30},400)}function h(a,b){console.log("location: "+a+", state: "+b)}function i(a){b("ta","/wyszukiwarka/usun_sesje_filtra/"+a+"/")}var a,j={przekieruj_do:b,otworz_w_nowej_karcie:c,pokaz_produkt:d,ukryj_produkt:e,post_i_odswiez:f,pozycja_scrollbara:g,sprawdz_cofnij:h,wyczysc_filtr:i};return j}();
/*Podstawa*/"use strict";!function(){var a=$("#TRESC > .BLOK1 > .tlo").css("background-image");"none"!=a&&(a=a.replace('url("',"").replace('")',""),pobierz.wymiary_grafiki(a))}(),function(){var a=parseInt($("#FILTRY .lista > span").html());a&&(zmiana.przelacznik_zakladek_filtry("#FILTRY",a),$("#FILTRY .zakladka_"+a+" .focus").focus())}(),window.onpopstate=function(a){ruch.sprawdz_cofnij(document.location,JSON.stringify(a.page))},$(".guzik_menu").click(function(){zmiana.pokaz_menu()}),$(".link").mouseup(function(a){var b=$(this).data("href"),c=$(this).data("domena"),d=pobierz.ktory_guzik(a);1==d?ruch.przekieruj_do(c,b):2==d&&ruch.otworz_w_nowej_karcie(c,b)}),$(".lupa").mouseup(function(a){var b=$(this).data("href"),c=$(this).data("domena"),d=$(this).data("numer"),e=pobierz.ktory_guzik(a);wyslij.numer_filtra_i_przekieruj(d,e,c,b)}),$(".link_wroc").mouseup(function(a){window.history.back()}),$(".link_select > select").change(function(){ruch.przekieruj_do($(this).children(":selected").data("domena"),$(this).val())}),$(".post_select > select").change(function(){ruch.post_i_odswiez($(this).parent().data("href"),{csrfmiddlewaretoken:$(this).parent().children("input[name=csrfmiddlewaretoken]").val(),zawartosc:$(this).val()})}),$(".lista_produktow > ul > li.produkt").not(".pokaz_ustawienia").click(function(a){var b=$(this).data("href"),c=pobierz.ktory_guzik(a);1==c?ruch.pokaz_produkt(b,!0):2==c&&window.open(b,"_blank")}),$("#PRODUKT > .tresc").click(function(a){var b=pobierz.ktory_guzik(a);1!=b&&2!=b||ruch.ukryj_produkt()}),$("#PRODUKT > .tresc *").click(function(a){dostosuj.stopBubble(a)}),$(".lista_produktow > ul > li.produkt.pokaz_ustawienia").click(function(a){var b=$(this).data("numer");$(this).children(".ustawienia").is(":hidden")&&zmiana.pokaz_ustawienia_produktu(b)}),$(".lista_produktow > ul > li.produkt.pokaz_ustawienia > .ustawienia > .ukryj_ustawienia").click(function(a){var b=$(this).parent().parent(),c=b.data("numer");b.children(".obrazek").is(":hidden")&&zmiana.ukryj_ustawienia_produktu(c)}),$(".filtry > .lista > div").not(".link").click(function(a){dostosuj.stopBubble(a),$(this).is(".wybrana")||(zmiana.przelacznik_zakladek_filtry("#"+$(this).parent().parent().attr("id"),$(this).data("numer")),wyslij.numer_filtra($(this).data("numer")))}),$(".filtry > .lista > div").not(".link").children("div").click(function(a){dostosuj.stopBubble(a),ruch.wyczysc_filtr($(this).parent().data("numer"))}),$("#TRESC > .BLOK1 > .tresc > .zakladka_blok").click(function(){$(this).is(".wybrana")||(zmiana.przelacznik_zakladek_bloki($(this).data("numer")),wyslij.numer_bloku($(this).data("numer")))}),$(".strzalka > .obrazek, .strzalka > .podpis").mouseup(function(a){ruch.pozycja_scrollbara($(this).parent().data("href"))}),$("#BLOK_GLOWNY > div").scroll(function(){var a=parseInt($(this).scrollTop());a>30?zmiana.zmniejsz_naglowek():zmiana.zwieksz_naglowek()}),$(window).resize(function(){dostosuj.wysokosc_strony(),dostosuj.strone_do_scrollbara();var a=parseInt($(window).width());a<870&&zmiana.zmniejsz_naglowek()});
